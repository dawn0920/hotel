<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>예약</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
객실 타입
    <select id="room_type_id" class="form-control">
        <option>스탠다드룸 (Standard Room)</option>
    </select>
    체크인 <input id="res_f_date" type="date" class="form-control">
    체크아웃 <input id="res_e_date" type="date" class="form-control">
    어른 수 <input id="adult_num" type="text" class="form-control">
    아이 수 <input id="child_num" type="text" class="form-control">
    요청사항 <textarea name="" id="request" cols="30" rows="10" class="form-control" placeholder="요청사항"></textarea>
    <div class="text-center">
        <button id="submit-btn" class="btn btn-primary">예약</button>
    </div>

<script>
    var submitBtn = document.getElementById("submit-btn");
    submitBtn.addEventListener("click", function() {
        var res_f_date = document.getElementById("res_f_date").value;
        var res_e_date = document.getElementById("res_e_date").value;
        var adult_num = document.getElementById("adult_num").value;
        var child_num = document.getElementById("child_num").value;
        var request = document.getElementById("request").value;

        // 서버로 전송
        fetch("/api/reservation", {
            method: "POST",
            headers: {
                "Content-type": "application/json"
            },
            body: JSON.stringify({
                res_f_date: res_f_date,
                res_e_date: res_e_date,
                adult_num: adult_num,
                child_num: child_num,
                request: request
            })
        })
        .then(function(response) {
            // 서버 응답에 대한 처리
            if (response.ok) {
                alert("예약 되었습니다");
                location.href = "/main";
            } else {
                alert("예약 실패");
            }
        });
    });
</script>
</body>
</html>
